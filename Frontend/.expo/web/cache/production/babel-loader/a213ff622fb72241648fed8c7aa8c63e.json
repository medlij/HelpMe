{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useEffect}from\"react\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import Alert from\"react-native-web/dist/exports/Alert\";import*as ImagePicker from\"expo-image-picker\";import colors from\"../config/colors\";function ImageInput(_ref){var imageUri=_ref.imageUri,onChangeImage=_ref.onChangeImage;useEffect(function(){requestPermission();},[]);var requestPermission=function requestPermission(){var _await$ImagePicker$re,granted;return _regeneratorRuntime.async(function requestPermission$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(ImagePicker.requestCameraPermissionsAsync());case 2:_await$ImagePicker$re=_context.sent;granted=_await$ImagePicker$re.granted;if(!granted)alert(\"You need to enable permission to access the library.\");case 5:case\"end\":return _context.stop();}}},null,null,null,Promise);};var handlePress=function handlePress(){if(!imageUri)selectImage();else Alert.alert(\"Delete\",\"Are you sure you want to delete this image?\",[{text:\"Yes\",onPress:function onPress(){return onChangeImage(null);}},{text:\"No\"}]);};var selectImage=function selectImage(){var result;return _regeneratorRuntime.async(function selectImage$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker.MediaTypeOptions.Images,quality:0.5}));case 3:result=_context2.sent;if(!result.cancelled)onChangeImage(result.uri);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(\"Error reading an image\",_context2.t0);case 10:case\"end\":return _context2.stop();}}},null,null,[[0,7]],Promise);};return React.createElement(TouchableWithoutFeedback,{onPress:handlePress},React.createElement(View,{style:styles.container},!imageUri&&React.createElement(Image,{style:styles.image,source:require(\"../assets/default.jpg\")}),imageUri&&React.createElement(Image,{source:{uri:imageUri},style:styles.image})));}export default ImageInput;var styles=StyleSheet.create({container:{alignItems:\"center\",backgroundColor:colors.babygrey,borderRadius:50,borderColor:colors.myblue,borderWidth:3,height:100,justifyContent:\"center\",overflow:\"hidden\",width:100},image:{height:\"100%\",width:\"100%\"}});","map":{"version":3,"sources":["/home/fatima/HelpMe/Frontend/components/ImageInput.js"],"names":["React","useEffect","ImagePicker","colors","ImageInput","imageUri","onChangeImage","requestPermission","requestCameraPermissionsAsync","granted","alert","handlePress","selectImage","Alert","text","onPress","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","quality","result","cancelled","uri","console","log","styles","container","image","require","StyleSheet","create","alignItems","backgroundColor","babygrey","borderRadius","borderColor","myblue","borderWidth","height","justifyContent","overflow","width"],"mappings":"4DAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,iUAQA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,mBAA7B,CACA,MAAOC,CAAAA,MAAP,wBAEA,QAASC,CAAAA,UAAT,MAAiD,IAA3BC,CAAAA,QAA2B,MAA3BA,QAA2B,CAAjBC,aAAiB,MAAjBA,aAAiB,CAC/CL,SAAS,CAAC,UAAM,CACdM,iBAAiB,GAClB,CAFQ,CAEN,EAFM,CAAT,CAGA,GAAMA,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,iNACEL,WAAW,CAACM,6BAAZ,EADF,6CAChBC,OADgB,uBAChBA,OADgB,CAExB,GAAI,CAACA,OAAL,CAAcC,KAAK,CAAC,sDAAD,CAAL,CAFU,qEAA1B,CAKA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAI,CAACN,QAAL,CAAeO,WAAW,GAA1B,IAEEC,CAAAA,KAAK,CAACH,KAAN,CAAY,QAAZ,CAAsB,6CAAtB,CAAqE,CACnE,CAAEI,IAAI,CAAE,KAAR,CAAeC,OAAO,CAAE,yBAAMT,CAAAA,aAAa,CAAC,IAAD,CAAnB,EAAxB,CADmE,CAEnE,CAAEQ,IAAI,CAAE,IAAR,CAFmE,CAArE,EAIH,CAPD,CASA,GAAMF,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,yMAEKV,WAAW,CAACc,uBAAZ,CAAoC,CACvDC,UAAU,CAAEf,WAAW,CAACgB,gBAAZ,CAA6BC,MADc,CAEvDC,OAAO,CAAE,GAF8C,CAApC,CAFL,SAEVC,MAFU,gBAMhB,GAAI,CAACA,MAAM,CAACC,SAAZ,CAAuBhB,aAAa,CAACe,MAAM,CAACE,GAAR,CAAb,CANP,mFAQhBC,OAAO,CAACC,GAAR,CAAY,wBAAZ,eARgB,0EAApB,CAYA,MACE,qBAAC,wBAAD,EAA0B,OAAO,CAAEd,WAAnC,EACE,oBAAC,IAAD,EAAM,KAAK,CAAEe,MAAM,CAACC,SAApB,EACG,CAACtB,QAAD,EACC,oBAAC,KAAD,EACE,KAAK,CAAEqB,MAAM,CAACE,KADhB,CAEE,MAAM,CAAEC,OAAO,yBAFjB,EAFJ,CAOGxB,QAAQ,EAAI,oBAAC,KAAD,EAAO,MAAM,CAAE,CAAEkB,GAAG,CAAElB,QAAP,CAAf,CAAkC,KAAK,CAAEqB,MAAM,CAACE,KAAhD,EAPf,CADF,CADF,CAaD,CAED,cAAexB,CAAAA,UAAf,CAEA,GAAMsB,CAAAA,MAAM,CAAGI,UAAU,CAACC,MAAX,CAAkB,CAC/BJ,SAAS,CAAE,CACTK,UAAU,CAAE,QADH,CAETC,eAAe,CAAE9B,MAAM,CAAC+B,QAFf,CAGTC,YAAY,CAAE,EAHL,CAITC,WAAW,CAAEjC,MAAM,CAACkC,MAJX,CAKTC,WAAW,CAAE,CALJ,CAMTC,MAAM,CAAE,GANC,CAOTC,cAAc,CAAE,QAPP,CAQTC,QAAQ,CAAE,QARD,CASTC,KAAK,CAAE,GATE,CADoB,CAY/Bd,KAAK,CAAE,CACLW,MAAM,CAAE,MADH,CAELG,KAAK,CAAE,MAFF,CAZwB,CAAlB,CAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  Image,\n  TouchableWithoutFeedback,\n  Alert,\n} from \"react-native\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport colors from \"../config/colors\";\n\nfunction ImageInput({ imageUri, onChangeImage }) {\n  useEffect(() => {\n    requestPermission();\n  }, []);\n  const requestPermission = async () => {\n    const { granted } = await ImagePicker.requestCameraPermissionsAsync();\n    if (!granted) alert(\"You need to enable permission to access the library.\");\n  };\n\n  const handlePress = () => {\n    if (!imageUri) selectImage();\n    else\n      Alert.alert(\"Delete\", \"Are you sure you want to delete this image?\", [\n        { text: \"Yes\", onPress: () => onChangeImage(null) },\n        { text: \"No\" },\n      ]);\n  };\n\n  const selectImage = async () => {\n    try {\n      const result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        quality: 0.5,\n      });\n      if (!result.cancelled) onChangeImage(result.uri);\n    } catch (error) {\n      console.log(\"Error reading an image\", error);\n    }\n  };\n\n  return (\n    <TouchableWithoutFeedback onPress={handlePress}>\n      <View style={styles.container}>\n        {!imageUri && (\n          <Image\n            style={styles.image}\n            source={require(\"../assets/default.jpg\")}\n          />\n        )}\n        {imageUri && <Image source={{ uri: imageUri }} style={styles.image} />}\n      </View>\n    </TouchableWithoutFeedback>\n  );\n}\n\nexport default ImageInput;\n\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: \"center\",\n    backgroundColor: colors.babygrey,\n    borderRadius: 50,\n    borderColor: colors.myblue,\n    borderWidth: 3,\n    height: 100,\n    justifyContent: \"center\",\n    overflow: \"hidden\",\n    width: 100,\n  },\n  image: {\n    height: \"100%\",\n    width: \"100%\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}