{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{useEffect,useState}from\"react\";import*as Location from\"expo-location\";export default function useLocation(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),location=_useState2[0],setLocation=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),errorMsg=_useState4[0],setErrorMsg=_useState4[1];useEffect(function(){(function _callee(){var _await$Location$reque,granted,_await$Location$getCu,_await$Location$getCu2,latitude,longitude;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());case 2:_await$Location$reque=_context.sent;granted=_await$Location$reque.granted;if(granted){_context.next=7;break;}setErrorMsg(\"Permission to access location was denied\");return _context.abrupt(\"return\");case 7:_context.next=9;return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));case 9:_await$Location$getCu=_context.sent;_await$Location$getCu2=_await$Location$getCu.coords;latitude=_await$Location$getCu2.latitude;longitude=_await$Location$getCu2.longitude;setLocation({latitude:latitude,longitude:longitude});case 14:case\"end\":return _context.stop();}}},null,null,null,Promise);})();},[]);var res=\"Waiting..\";if(errorMsg){res=errorMsg;}else if(location){res=JSON.stringify(location);}return res;}","map":{"version":3,"sources":["/home/fatima/HelpMe/Frontend/hooks/useLocation.js"],"names":["useEffect","useState","Location","useLocation","location","setLocation","errorMsg","setErrorMsg","requestForegroundPermissionsAsync","granted","getCurrentPositionAsync","coords","latitude","longitude","res","JSON","stringify"],"mappings":"6HAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,eAA1B,CAEA,cAAe,SAASC,CAAAA,WAAT,EAAuB,CACpC,cAAgCF,QAAQ,CAAC,IAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAAgCJ,QAAQ,CAAC,IAAD,CAAxC,yCAAOK,QAAP,eAAiBC,WAAjB,eAEAP,SAAS,CAAC,UAAM,CACd,CAAC,uRACyBE,QAAQ,CAACM,iCAAT,EADzB,6CACOC,OADP,uBACOA,OADP,IAEMA,OAFN,yBAGGF,WAAW,CAAC,0CAAD,CAAX,CAHH,yFASWL,QAAQ,CAACQ,uBAAT,CAAiC,EAAjC,CATX,0FAQGC,MARH,CAQaC,QARb,wBAQaA,QARb,CAQuBC,SARvB,wBAQuBA,SARvB,CAUCR,WAAW,CAAC,CAAEO,QAAQ,CAARA,QAAF,CAAYC,SAAS,CAATA,SAAZ,CAAD,CAAX,CAVD,sEAAD,IAYD,CAbQ,CAaN,EAbM,CAAT,CAeA,GAAIC,CAAAA,GAAG,CAAG,WAAV,CACA,GAAIR,QAAJ,CAAc,CACZQ,GAAG,CAAGR,QAAN,CACD,CAFD,IAEO,IAAIF,QAAJ,CAAc,CACnBU,GAAG,CAAGC,IAAI,CAACC,SAAL,CAAeZ,QAAf,CAAN,CACD,CAED,MAAOU,CAAAA,GAAP,CACD","sourcesContent":["import { useEffect, useState } from \"react\";\nimport * as Location from \"expo-location\";\n\nexport default function useLocation() {\n  const [location, setLocation] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      let { granted } = await Location.requestForegroundPermissionsAsync();\n      if (!granted) {\n        setErrorMsg(\"Permission to access location was denied\");\n        return;\n      }\n\n      const {\n        coords: { latitude, longitude },\n      } = await Location.getCurrentPositionAsync({});\n      setLocation({ latitude, longitude });\n    })();\n  }, []);\n\n  let res = \"Waiting..\";\n  if (errorMsg) {\n    res = errorMsg;\n  } else if (location) {\n    res = JSON.stringify(location);\n  }\n\n  return res;\n}\n"]},"metadata":{},"sourceType":"module"}