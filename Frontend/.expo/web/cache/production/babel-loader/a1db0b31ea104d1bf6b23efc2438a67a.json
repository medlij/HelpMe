{"ast":null,"code":"import getBoundingClientRect from\"../../modules/getBoundingClientRect\";import ResponderTouchHistoryStore from\"./ResponderTouchHistoryStore\";var emptyFunction=function emptyFunction(){};var emptyObject={};var emptyArray=[];function normalizeIdentifier(identifier){return identifier>20?identifier%20:identifier;}export default function createResponderEvent(domEvent){var rect;var propagationWasStopped=false;var changedTouches;var touches;var domEventChangedTouches=domEvent.changedTouches;var domEventType=domEvent.type;var metaKey=domEvent.metaKey===true;var shiftKey=domEvent.shiftKey===true;var force=domEventChangedTouches&&domEventChangedTouches[0].force||0;var identifier=normalizeIdentifier(domEventChangedTouches&&domEventChangedTouches[0].identifier||0);var clientX=domEventChangedTouches&&domEventChangedTouches[0].clientX||domEvent.clientX;var clientY=domEventChangedTouches&&domEventChangedTouches[0].clientY||domEvent.clientY;var pageX=domEventChangedTouches&&domEventChangedTouches[0].pageX||domEvent.pageX;var pageY=domEventChangedTouches&&domEventChangedTouches[0].pageY||domEvent.pageY;var preventDefault=typeof domEvent.preventDefault==='function'?domEvent.preventDefault.bind(domEvent):emptyFunction;var timestamp=domEvent.timeStamp;function normalizeTouches(touches){return Array.prototype.slice.call(touches).map(function(touch){return{force:touch.force,identifier:normalizeIdentifier(touch.identifier),get locationX(){return locationX(touch.clientX);},get locationY(){return locationY(touch.clientY);},pageX:touch.pageX,pageY:touch.pageY,target:touch.target,timestamp:timestamp};});}if(domEventChangedTouches!=null){changedTouches=normalizeTouches(domEventChangedTouches);touches=normalizeTouches(domEvent.touches);}else{var emulatedTouches=[{force:force,identifier:identifier,get locationX(){return locationX(clientX);},get locationY(){return locationY(clientY);},pageX:pageX,pageY:pageY,target:domEvent.target,timestamp:timestamp}];changedTouches=emulatedTouches;touches=domEventType==='mouseup'||domEventType==='dragstart'?emptyArray:emulatedTouches;}var responderEvent={bubbles:true,cancelable:true,currentTarget:null,defaultPrevented:domEvent.defaultPrevented,dispatchConfig:emptyObject,eventPhase:domEvent.eventPhase,isDefaultPrevented:function isDefaultPrevented(){return domEvent.defaultPrevented;},isPropagationStopped:function isPropagationStopped(){return propagationWasStopped;},isTrusted:domEvent.isTrusted,nativeEvent:{altKey:false,ctrlKey:false,metaKey:metaKey,shiftKey:shiftKey,changedTouches:changedTouches,force:force,identifier:identifier,get locationX(){return locationX(clientX);},get locationY(){return locationY(clientY);},pageX:pageX,pageY:pageY,target:domEvent.target,timestamp:timestamp,touches:touches,type:domEventType},persist:emptyFunction,preventDefault:preventDefault,stopPropagation:function stopPropagation(){propagationWasStopped=true;},target:domEvent.target,timeStamp:timestamp,touchHistory:ResponderTouchHistoryStore.touchHistory};function locationX(x){rect=rect||getBoundingClientRect(responderEvent.currentTarget);if(rect){return x-rect.left;}}function locationY(y){rect=rect||getBoundingClientRect(responderEvent.currentTarget);if(rect){return y-rect.top;}}return responderEvent;}","map":{"version":3,"sources":["/home/fatima/HelpMe/Frontend/node_modules/react-native-web/src/hooks/useResponderEvents/createResponderEvent.js"],"names":["getBoundingClientRect","ResponderTouchHistoryStore","emptyFunction","emptyObject","emptyArray","normalizeIdentifier","identifier","createResponderEvent","domEvent","rect","propagationWasStopped","changedTouches","touches","domEventChangedTouches","domEventType","type","metaKey","shiftKey","force","clientX","clientY","pageX","pageY","preventDefault","bind","timestamp","timeStamp","normalizeTouches","Array","prototype","slice","call","map","touch","locationX","locationY","target","emulatedTouches","responderEvent","bubbles","cancelable","currentTarget","defaultPrevented","dispatchConfig","eventPhase","isDefaultPrevented","isPropagationStopped","isTrusted","nativeEvent","altKey","ctrlKey","persist","stopPropagation","touchHistory","x","left","y","top"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Nicolas Gallagher\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type { TouchEvent } from './ResponderEventTypes';\n\nimport getBoundingClientRect from '../../modules/getBoundingClientRect';\nimport ResponderTouchHistoryStore from './ResponderTouchHistoryStore';\n\nexport type ResponderEvent = {|\n  bubbles: boolean,\n  cancelable: boolean,\n  currentTarget: any,\n  defaultPrevented: ?boolean,\n  dispatchConfig: {\n    registrationName?: string,\n    phasedRegistrationNames?: {\n      bubbled: string,\n      captured: string\n    }\n  },\n  eventPhase: ?number,\n  isDefaultPrevented: () => boolean,\n  isPropagationStopped: () => boolean,\n  isTrusted: ?boolean,\n  preventDefault: () => void,\n  stopPropagation: () => void,\n  nativeEvent: TouchEvent,\n  persist: () => void,\n  target: ?any,\n  timeStamp: number,\n  touchHistory: $ReadOnly<{|\n    indexOfSingleActiveTouch: number,\n    mostRecentTimeStamp: number,\n    numberActiveTouches: number,\n    touchBank: Array<{|\n      currentPageX: number,\n      currentPageY: number,\n      currentTimeStamp: number,\n      previousPageX: number,\n      previousPageY: number,\n      previousTimeStamp: number,\n      startPageX: number,\n      startPageY: number,\n      startTimeStamp: number,\n      touchActive: boolean\n    |}>\n  |}>\n|};\n\nconst emptyFunction = () => {};\nconst emptyObject = {};\nconst emptyArray = [];\n\n/**\n * Safari produces very large identifiers that would cause the `touchBank` array\n * length to be so large as to crash the browser, if not normalized like this.\n * In the future the `touchBank` should use an object/map instead.\n */\nfunction normalizeIdentifier(identifier) {\n  return identifier > 20 ? identifier % 20 : identifier;\n}\n\n/**\n * Converts a native DOM event to a ResponderEvent.\n * Mouse events are transformed into fake touch events.\n */\nexport default function createResponderEvent(domEvent: any): ResponderEvent {\n  let rect;\n  let propagationWasStopped = false;\n  let changedTouches;\n  let touches;\n\n  const domEventChangedTouches = domEvent.changedTouches;\n  const domEventType = domEvent.type;\n\n  const metaKey = domEvent.metaKey === true;\n  const shiftKey = domEvent.shiftKey === true;\n  const force = (domEventChangedTouches && domEventChangedTouches[0].force) || 0;\n  const identifier = normalizeIdentifier(\n    (domEventChangedTouches && domEventChangedTouches[0].identifier) || 0\n  );\n  const clientX = (domEventChangedTouches && domEventChangedTouches[0].clientX) || domEvent.clientX;\n  const clientY = (domEventChangedTouches && domEventChangedTouches[0].clientY) || domEvent.clientY;\n  const pageX = (domEventChangedTouches && domEventChangedTouches[0].pageX) || domEvent.pageX;\n  const pageY = (domEventChangedTouches && domEventChangedTouches[0].pageY) || domEvent.pageY;\n  const preventDefault =\n    typeof domEvent.preventDefault === 'function'\n      ? domEvent.preventDefault.bind(domEvent)\n      : emptyFunction;\n  const timestamp = domEvent.timeStamp;\n\n  function normalizeTouches(touches) {\n    return Array.prototype.slice.call(touches).map(touch => {\n      return {\n        force: touch.force,\n        identifier: normalizeIdentifier(touch.identifier),\n        get locationX() {\n          return locationX(touch.clientX);\n        },\n        get locationY() {\n          return locationY(touch.clientY);\n        },\n        pageX: touch.pageX,\n        pageY: touch.pageY,\n        target: touch.target,\n        timestamp\n      };\n    });\n  }\n\n  if (domEventChangedTouches != null) {\n    changedTouches = normalizeTouches(domEventChangedTouches);\n    touches = normalizeTouches(domEvent.touches);\n  } else {\n    const emulatedTouches = [\n      {\n        force,\n        identifier,\n        get locationX() {\n          return locationX(clientX);\n        },\n        get locationY() {\n          return locationY(clientY);\n        },\n        pageX,\n        pageY,\n        target: domEvent.target,\n        timestamp\n      }\n    ];\n    changedTouches = emulatedTouches;\n    touches =\n      domEventType === 'mouseup' || domEventType === 'dragstart' ? emptyArray : emulatedTouches;\n  }\n\n  const responderEvent = {\n    bubbles: true,\n    cancelable: true,\n    // `currentTarget` is set before dispatch\n    currentTarget: null,\n    defaultPrevented: domEvent.defaultPrevented,\n    dispatchConfig: emptyObject,\n    eventPhase: domEvent.eventPhase,\n    isDefaultPrevented() {\n      return domEvent.defaultPrevented;\n    },\n    isPropagationStopped() {\n      return propagationWasStopped;\n    },\n    isTrusted: domEvent.isTrusted,\n    nativeEvent: {\n      altKey: false,\n      ctrlKey: false,\n      metaKey,\n      shiftKey,\n      changedTouches,\n      force,\n      identifier,\n      get locationX() {\n        return locationX(clientX);\n      },\n      get locationY() {\n        return locationY(clientY);\n      },\n      pageX,\n      pageY,\n      target: domEvent.target,\n      timestamp,\n      touches,\n      type: domEventType\n    },\n    persist: emptyFunction,\n    preventDefault,\n    stopPropagation() {\n      propagationWasStopped = true;\n    },\n    target: domEvent.target,\n    timeStamp: timestamp,\n    touchHistory: ResponderTouchHistoryStore.touchHistory\n  };\n\n  // Using getters and functions serves two purposes:\n  // 1) The value of `currentTarget` is not initially available.\n  // 2) Measuring the clientRect may cause layout jank and should only be done on-demand.\n  function locationX(x) {\n    rect = rect || getBoundingClientRect(responderEvent.currentTarget);\n    if (rect) {\n      return x - rect.left;\n    }\n  }\n  function locationY(y) {\n    rect = rect || getBoundingClientRect(responderEvent.currentTarget);\n    if (rect) {\n      return y - rect.top;\n    }\n  }\n\n  return responderEvent;\n}\n"]},"metadata":{},"sourceType":"module"}